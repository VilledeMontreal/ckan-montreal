<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>
    {% block title%}{{title}}{% endblock %}
  </title>
  <meta name="author" content="Datopian">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="/static/stylesheets/app.css">
  <link rel="stylesheet" href="/static/stylesheets/montreal.css">
  <link rel="stylesheet" href="/static/font-icon/_icons.css">


  {% if dataset %}
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.css">
  {% endif %}

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script id="ga-gtag" async></script>

  <script>
    document.getElementById("ga-gtag").src = "https://www.googletagmanager.com/gtag/js?id={{ $GA_ID }}";
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '{{ $GA_ID }}', {
      'custom_map': {
        'dimension1': 'downloaded data type',
        'dimension2': 'downloaded data format'
      }
    });
  </script>
  <script>
    // This script is created for Login page.
    // Delete this script when Login page is removed.
    if (document.referrer.includes('127.0.0.1:4000') || document.referrer.includes('donnees.montreal.ca')) == false {
      window.location.replace(window.origin + '/login');
    }
  </script>  
</head>
<body class="{% block bodyclass %}{{bodyclass}}{% endblock %} text-gray-700" id="montreal">

<!-- Page header -->
<header class="mx-auto w-full shadow-sm">
  <div class="flex items-center py-4 px-5">
    <div>
      <a class="logo" href="/">
        <img src="/static/img/logo.svg" alt="City of Montreal" title="City of Montreal" width="190px"/>
      </a>
    </div>
    <div class="mx-6 h-4 border border-solid border-gray-400"></div>
    <div class="text-black font-bold">
      Données ouvertes
    </div>
  </div>
</header>
<!-- End of page header -->
<div id="main-container z-10">
  {% block content %}{{content}}{% endblock %}
</div>

<!-- Footer -->
<footer class="bg-gray-900 text-white font-normal pt-4 pb-16" id="main-footer">
  <div class="px-4 mx-auto max-w-6xl">
    <div class="text-right pb-4">
      <a href="#main-content" class="text-xs font-bold">Haut de la page</a>
    </div>
    <div class="">
      <div class="flex flex-row text-base justify-between">
        <div class="w-1/5 border-t border-white">
          <div class="list-heading font-bold mb-4 pt-8">Données ouvertes</div>
            <ul class="list-unstyled mb-16 text-sm">
              <li class="mb-4">
                <a href="/search" class="hover:text-primary">Recherche</a>
              </li>
              <li class="mb-4">
                <a href="/applications" class="hover:text-primary">Applications</a>
              </li>
            </ul>
          </div>
        <div class="w-1/5 border-t border-white">
          <div class="list-heading font-bold mb-4 pt-8">Initiative</div>
            <ul class="list-unstyled mb-16 text-sm">
              <li class="mb-4">
                <a href="/our-approach" class="hover:text-primary">Notre démarche</a>
              </li>
              <li class="mb-4">
                <a href="#" class="hover:text-primary">License d’utilisation</a>
              </li>
            </ul>
          </div>
        <div class="w-1/5 border-t border-white">
          <div class="list-heading font-bold mb-4 pt-8">Communication</div>
            <ul class="list-unstyled mb-16 text-sm">
              <li class="mb-4">
                <a href="/news" class="hover:text-primary">Actualités</a>
              </li>
              <li class="mb-4">
                <a href="/contact-us" class="hover:text-primary">Nous joindre</a>
              </li>
            </ul>
          </div>
        <div class="w-1/5 border-t border-white">
          <div class="list-heading font-bold mb-4 pt-8">Nous suivre</div>
          <ul class="list-unstyled mb-16 text-sm">
            <li class="mb-4">
              <a href="#" class="hover:text-primary">
                <span class="icon icon-social-twitter" aria-hidden="true"></span> Twitter
              </a>
            <li class="mb-4">
            <li>
              <a href="#" class="hover:text-primary">
                <span class="icon icon-social-youtube" aria-hidden="true"></span> Fil RSS
              </a>
            </li>
          </ul>
        </div>      
      </div>
    </div>
    <div class="flex justify-between items-center">
      <div class="col-auto mb-4 mb-lg-0">
        <svg class="" x="0px" y="0px" viewBox="0 0 184.6 39.3" height="40px">
            <polyline class="fill-current" points="0,6.6 6.1,6.6 13.9,27.9 14,27.9 21.8,6.6 27.7,6.6 27.7,32.8 23.6,32.8 23.6,10.2 23.5,10.2 15.2,32.8 11.8,32.8 3.5,10.2 3.4,10.2 3.4,32.8 0,32.8 0,6.6   "></polyline>
            <path class="fill-current" d="M39.3,31.6c3.7,0,4.1-4.6,4.1-7.9c0-3.3-0.4-7.9-4.1-7.9c-3.6,0-4.1,4.6-4.1,7.9C35.2,27.1,35.7,31.6,39.3,31.6 M30.7,23.8 c0-6.1,2.9-9.4,8.6-9.4s8.6,3.3,8.6,9.4s-2.9,9.4-8.6,9.4S30.7,29.9,30.7,23.8z"></path>
            <path class="fill-current" d="M51.1,14.7h4.1V19h0.1c0.7-1.3,2.5-4.7,6.8-4.7c3.4,0,4.9,2.7,4.9,5.3v13.2h-4.1V21.5c0-2.3-0.4-4.3-2.5-4.3 c-4.1,0-5.2,5.9-5.2,8.2v7.5h-4.1L51.1,14.7"></path>
            <path class="fill-current" d="M82,32.9c-0.8,0.2-1.9,0.3-2.9,0.3c-3.9,0-6.1-1.1-6.1-4.6V16.7h-3.1v-2H73v-4.2l4.1-2.3v6.6h5.3v2h-5.3v10.4 c0,2.7,0.3,3.9,2.9,3.9c0.7,0,1.4-0.1,1.9-0.3L82,32.9"></path>
            <path class="fill-current" d="M85.1,14.7h4.1v4.6h0.1c1.3-2.4,2.7-4.7,6.3-5v4c-4,0.1-6.4,1.4-6.4,6.2v8.3h-4.1V14.7"></path>
            <path class="fill-current" d="M105.8,6.6h4.3l-4,5H103L105.8,6.6 M108.8,20c0-1.4-0.5-4.1-3.6-4.1c-3.2,0-3.8,3-3.9,4.1H108.8z M112.5,32.2 c-1.7,0.6-3.2,1-5.7,1c-5.4,0-9.7-3-9.7-10.2c0-5,2.2-8.6,8.3-8.6c6.3,0,7.5,3.9,7.5,7.4h-11.7c0,3.6,1.7,9.5,7.6,9.5 c1.3,0,2.5-0.2,3.7-0.8V32.2z"></path>
            <path class="fill-current" d="M126.1,24.3c-1.7,0.1-6.4,0.5-6.4,3.8c0,1.6,1,2.7,2.4,2.7s4-1.3,4-4.4V24.3 M126.1,30.3L126.1,30.3 c-0.7,1.1-2.5,2.9-5.6,2.9s-5.3-2-5.3-4.5c0-5.6,8.3-5.8,10.9-6v-1.6c0-2,0-5.2-2.7-5.2c-2.5,0-3,1.8-3.2,3.9h-4.3 c0.2-2.7,1.4-5.5,7.5-5.5c6.4,0,6.9,3.3,6.9,6.8v11.6h-4.1L126.1,30.3L126.1,30.3z"></path>
            <rect class="fill-current" x="134.5" y="6.6" width="4.1" height="26.2"></rect>
            <path class="" style="fill:#e00000" d="M167.3,36c-0.8-0.8-1.3-1.9-1.3-3.1V22.7c0-1.3,1.2-1.9,1.9-1.9h10.3c2.1,0,4.4,1.7,4.4,4.4c0,2.4-1.9,4.4-4.3,4.4 c-1.5,0-2.6-0.7-3.2-1.3c0,0-0.4-0.4-0.5-0.5c0.1-0.2,0.2-0.5,0.2-0.9l0,0c0-1.5-1.2-2.6-2.7-2.6c-0.7,0-1.3,0.3-1.8,0.7 c-0.5,0.5-0.8,1.2-0.8,1.9s0.3,1.4,0.8,1.9s1.1,0.7,1.9,0.7c0.4,0,0.7-0.1,0.9-0.2c0.1,0.1,0.5,0.5,0.5,0.5 c0.3,0.3,1.3,1.4,1.3,3.1l0,0c0,2.7-2.3,4.4-4.4,4.4C169.3,37.3,168.2,36.8,167.3,36 M148.7,28.3c-0.8-0.8-1.3-2-1.3-3.1 c0-1.2,0.4-2.3,1.3-3.1c0.8-0.8,1.9-1.3,3.1-1.3H162c1.3,0,2,1.1,2,1.9v10.2c0,1.2-0.5,2.3-1.3,3.1c-0.6,0.6-1.6,1.3-3.1,1.3 c-2.4,0-4.4-1.9-4.4-4.3l0,0c0-1.5,0.7-2.6,1.3-3.2c0,0,0.4-0.4,0.5-0.5c0.2,0.1,0.5,0.2,0.9,0.2c1.5,0,2.6-1.2,2.6-2.7 c0-0.7-0.3-1.3-0.7-1.8c-0.5-0.5-1.2-0.8-1.9-0.8s-1.4,0.3-1.9,0.8s-0.7,1.1-0.7,1.8l0,0c0,0.4,0.1,0.7,0.2,0.9 c-0.1,0.1-0.5,0.5-0.5,0.5c-0.3,0.3-1.4,1.3-3.1,1.3C150.6,29.6,149.5,29.1,148.7,28.3z M166,6.5c0-1.2,0.5-2.3,1.3-3.1 c0.6-0.6,1.6-1.3,3.1-1.3c1.2,0,2.3,0.5,3.1,1.3s1.3,1.9,1.3,3l0,0c0,1.5-0.7,2.6-1.3,3.2c0,0-0.4,0.4-0.5,0.5 c-0.2-0.1-0.5-0.2-0.9-0.2c-1.5,0-2.6,1.2-2.6,2.7c0,0.7,0.3,1.3,0.7,1.8c0.5,0.5,1.2,0.8,1.9,0.8l0,0c0.7,0,1.4-0.3,1.9-0.8 s0.7-1.1,0.7-1.8l0,0c0-0.4-0.1-0.7-0.2-0.9c0.1-0.1,0.5-0.5,0.5-0.5c0.3-0.3,1.4-1.3,3.1-1.3c2.7,0,4.4,2.3,4.4,4.4 c0,1.2-0.5,2.3-1.3,3.1s-1.9,1.3-3.1,1.3H168c-1.3,0-1.9-1.1-1.9-1.9L166,6.5L166,6.5z M156.5,9.7L156.5,9.7 c-0.3-0.3-1.3-1.4-1.3-3.1l0,0c0-2.7,2.3-4.4,4.4-4.4c1.2,0,2.3,0.5,3.1,1.3s1.3,1.9,1.3,3.1v10.1c0,1.3-1.1,1.9-1.9,1.9h-10.2 c-1.2,0-2.3-0.5-3.1-1.3c-0.6-0.6-1.3-1.6-1.3-3.1c0-1.2,0.5-2.3,1.3-3.1c0.8-0.8,1.9-1.3,3-1.3c1.5,0,2.6,0.7,3.2,1.3 c0,0,0.4,0.4,0.5,0.5c-0.1,0.2-0.2,0.5-0.2,0.9c0,1.5,1.2,2.6,2.7,2.6c0.7,0,1.3-0.3,1.8-0.7c0.5-0.5,0.8-1.2,0.8-1.9 s-0.3-1.4-0.8-1.9s-1.1-0.7-1.9-0.7c-0.4,0-0.7,0.1-0.9,0.2C156.9,10.1,156.5,9.7,156.5,9.7z M165,3.1c-1.3-1.9-3.3-3.1-5.5-3.1 c-3.6,0-6.5,2.9-6.5,6.5c0,0.4,0.1,0.8,0.2,1.5c-0.3-0.1-1-0.2-1.5-0.2c-3.7,0-6.5,2.8-6.5,6.4c0,2.1,1.2,4.2,3.1,5.5 c-1.9,1.3-3.1,3.3-3.1,5.4c0,3.6,2.9,6.5,6.6,6.5c0.4,0,1-0.1,1.4-0.2c-0.1,0.6-0.2,1.1-0.2,1.4c0,3.7,2.8,6.5,6.5,6.5 c2.1,0,4.1-1.1,5.4-3c1.2,1.8,3.4,3,5.5,3c3.6,0,6.4-2.9,6.4-6.5c0-0.5-0.1-1.1-0.2-1.4c0.6,0.1,1.1,0.2,1.5,0.2 c3.6,0,6.5-2.9,6.5-6.5c0-2.1-1.1-4.2-3-5.4c1.8-1.2,3-3.3,3-5.4c0-3.5-3-6.4-6.6-6.4c-0.5,0-1,0.1-1.4,0.2c0.1-0.3,0.2-1,0.2-1.5 c0-3.7-2.8-6.5-6.4-6.5C168.3,0,166.2,1.2,165,3.1z"></path>
        </svg>
      </div>
      <div class="">
        <div class="flex text-sm">
          <div class="text-center mb-4 mb-md-0">
            <ul class="flex items-center">
              <li class="list-inline-item">
                <a href="#" class="hover:text-primary">Accessibilité</a>
              </li>
              <li class="mx-2 h-1 w-1 bg-white rounded-full bg-gray-500"></li>
              <li class="list-inline-item">
                <a href="#" class="hover:text-primary">Confidentialité</a>
              </li>
              <li class="mx-2 h-1 w-1 bg-white rounded-full bg-gray-500"></li>
              <li class="list-inline-item">
                <a href="#" class="hover:text-primary">Mentions légales</a>
              </li>
              <li class="mx-2 h-1 w-1 bg-white rounded-full bg-gray-500"></li>
            </ul>
          </div>
          <div class="text-center">
            <button id="lang" data-language="en" data-language-name="English" onclick="languageSwitcher(this)"
              class="cursor-pointer bg-gray-900 text-white font-bold hover:text-primary z-20 relative inline-flex items-center" style="outline:none;">
              English
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>
<!-- end of footer -->

<div class="hidden">
  {% include "./partials/symbol/svg/sprite.symbol.svg" %}
</div>

<!-- <script src="/static/js/scripts.js"></script> -->
<script>
  //set lang
   el = document.getElementById('lang')
    if(readCookie('defaultLocale') == 'fr') {
      el.innerHTML = "English"
      el.setAttribute("data-language", "en");
      el.setAttribute("data-language-name", "English");
    }else if (readCookie('defaultLocale') == 'en') {
      el.innerHTML = "Français"
      el.setAttribute("data-language", "fr");
      el.setAttribute("data-language-name", "Français");
    }
  //set cookie
  function languageSwitcher(el) {
    let lang = el.getAttribute('data-language');
    document.cookie = 'defaultLocale=' + lang;
    location.reload();
  }
  //get cookie
  function readCookie(name) {
    var cookieName = name + '=';
    var ca = document.cookie.split(';');
    for (var i = 0; i < ca.length; i++) {
      var c = ca[i];
      while (c.charAt(0) == ' ') c = c.substring(1, c.length);
      if (c.indexOf(cookieName) == 0) return c.substring(cookieName.length, c.length);
    }
    return null;
  }
</script>

<script>
  
if(readCookie('defaultLocale') == 'fr' || !readCookie('defaultLocale')){
  let dashElement= document.querySelectorAll("#montreal-dash > div > div.flex.flex-wrap.m-6 > div > div.mx-24.text-right > p > a")
  if (typeof(dashElement) != 'undefined' && dashElement != null){
    dashTranslation = {
    "Download raw data": "Télécharger les données",
    "Data source": "Source des données"
    }
    dashElement.forEach(link => { link.innerHTML = dashTranslation[link.innerHTML] }) 
  }
}   
</script>
  <script>
    // This script is created for Login page.
    // Delete this script when Login page is removed.
    if (document.referrer.includes('127.0.0.1:4000') || document.referrer.includes('donnees.montreal.ca')) === false{
      window.location.replace(window.origin + '/login');
    }
  </script> 
{% block scripts %}
{% endblock %}
</body>
</html>
